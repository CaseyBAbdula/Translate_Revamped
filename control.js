const t="po";window.onload=(()=>{null!=localStorage.po||(localStorage.po=!0),!(1*localStorage.po&&(n.enable(),1))&&n.disable(),n.getElem().addEventListener("mouseup",()=>n.toggle()),document.getElementById("translateSubmit").addEventListener("mouseup",t=>{e(document.getElementById("translateInput").value)}),document.getElementById("return").addEventListener("mouseup",t=>{document.getElementById("translate").style="",document.getElementById("translation").style="display: none;",document.getElementById("return").style="display: none;"}),document.getElementById("translateInput").addEventListener("keydown",t=>13==t.keyCode&&e(document.getElementById("translateInput").value))});var e=t=>{""!=t&&translate(t).then((e,n)=>{let l=JSON.parse(e);"en"!=l.src&&(translation=l.sentences.map(t=>t.trans).join(""),sourceLang=langs[l.src.split("-")[0]].split(";")[0],country=l.src.split("-")[1],document.getElementById("translation").innerHTML=`\n\t\t\t<div class="lang">${sourceLang.toUpperCase()+(country?" - "+country:"")}</div>\n\t\t\t<div class="text">${t}</div>\n\t\t\t<div class="lang">ENGLISH</div>\n\t\t\t<div class="text">${translation}</div>\n\t\t`,document.getElementById("translate").style="display: none;",document.getElementById("translation").style="display: block",document.getElementById("return").style="display: block")})},n={getElem:()=>document.getElementById("switch"),enable:function(){this.setStyle("padding-right:10px;background:#5f9cff;border-radius: 10px 4px 4px 10px")},disable:function(){this.setStyle("padding-left:10px;background:#d6d6d8;border-radius:4px 10px 10px 4px")},toggle:function(){localStorage.po=!(1*localStorage.po)>>0,!(1*localStorage.po&&(this.enable(),1))&&this.disable(),a()},setStyle:function(t){this.getElem().firstElementChild.style=t,this.getElem().firstElementChild.firstElementChild.innerText=1*localStorage.po?"On":"Off"}},l=function(){return Object.keys({...window}).map(t=>{for(r=0,i=0;i<t.length;i++)r+=Math.pow(String(t).codePointAt(i)^Math.LN10,!window.crypto.getRandomValues(new Uint32Array(2^!!window)).byteOffset>>0);return r}).reduce(function(t,e){return arguments[0]+e})},a=function(){chrome.runtime.sendMessage({translateOn:1*localStorage.po},function(t){}),chrome.tabs.query({},function(t){t.forEach(t=>{chrome.tabs.sendMessage(t.id,{translateOn:1*localStorage.po})})})};